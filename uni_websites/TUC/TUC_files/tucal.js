"use strict";
/**
 * @preserve
 *
 * This software includes modified material copied from [WAI-ARIA: Authoring Practices Guide](https://github.com/w3c/aria-practices).
 * Copyright © 2020 W3C® (MIT, ERCIM, Keio, Beihang).
 */var ListBox=function(t,e,a){t&&e&&(this.button=t,this.optionList=e,this.selectedIdentifier=a,this.selected=this.optionList.querySelector("[aria-selected]"),this.button.addEventListener("click",this.open.bind(this)),this.button.addEventListener("keydown",this.handleKeysButton.bind(this)),this.optionList.addEventListener("blur",this.hide.bind(this)),this.optionList.addEventListener("focus",this.handleFocus.bind(this)),this.optionList.addEventListener("keydown",this.handleKeys.bind(this)),this.optionList.addEventListener("click",this.handleClick.bind(this)),$(this.optionList).off(".bs"))};
/**
 * @preserve
 * tucal.js
 * Basic functionalities
 * @author TUCAL Authors <www.tu-chemnitz.de/urz/www>
 */
function tuc_search(t,e,i,o){var t=document.getElementById(t||"tucal-searchtype"),l=document.getElementById(e||"tucal-searchword"),e=t.querySelector("[aria-selected]").getAttribute("data-value")||"text",s=!(!i||"de"===i);return!(!l||l.length<=0)&&("text"!==e||"text"===e&&"default"===l.dataset.destination?(a(e)&&(document.location.href=a(e)),!1):("ecosia"===l.dataset.destination&&(l.value+=" site:tu-chemnitz.de"),"startpage"===l.dataset.destination&&(l.value+=" site:tu-chemnitz.de"),!0));function a(t){var e,a=encodeURIComponent(l.value),n={uakt:{other:(o?"/":"https://www.tu-chemnitz.de/")+"tu/pressestelle/aktuell/index.html.en?search=",de:(o?"/":"https://www.tu-chemnitz.de/")+"tu/pressestelle/aktuell/?search="},pers:(o?"/":"https://www.tu-chemnitz.de/")+"tu/personen.html?query=",beol:"https://dict.tu-chemnitz.de/?lang="+i+"&query=",opac:"https://katalog.bibliothek.tu-chemnitz.de/Search/Results?type=AllFields&lookfor=",room:(o?"/":"https://www.tu-chemnitz.de/")+"verwaltung/technik/luos/raum.html?s="};return"text"===t?((e=document.querySelector('body > a.hidden[data-toggle="modal"]')).dataset.remoteFrame=e.dataset.remoteFrame.replace(/\?.*/,"")+"?type="+t+"&query="+a+"&content=",window.jQuery?($(e).openModal(),!1):e.dataset.remoteFrame.replace("&content=","")):-1!==["pers","beol","opac","room"].indexOf(t)?n[t]+a:(s?n[t].other:n[t].de)+a}}function id_safe(t){return void 0!==t?t.replace(/([!"$%&'()*+,./:;<=>?@[\]^`{|}~])/g,"\\$1"):t}function jumpHash(){if(location.hash&&0!==location.hash.length){for(var n=[],t=0,e=id_safe(location.hash),a=$(e);!$(e).is(":visible")&&"#undefined"!==e&&t<5;t++)a.hasClass("collapse")||a.hasClass("tab-pane")?(n.push(e),e="#"+a.parents(".collapse, .tab-pane").attr("id")):"#undefined"!==(e="#"+a.parents(".collapse, .tab-pane").attr("id"))&&n.push(e);n.reverse(),$(n).each(function(t,e){var a=$(e);a.hasClass("collapse")&&(a.collapse("show"),t+1===n.length&&a.one("shown.bs.collapse",function(){a[0].scrollIntoView()})),a.hasClass("tab-pane")&&$('a[href="'+e+'"]').tab("show")})}}ListBox.prototype.handleKeysButton=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":t.preventDefault(),this.open(),this.handleKeys(t)}},ListBox.prototype.open=function(){this.optionList.parentElement.classList.add("open"),this.button.setAttribute("aria-expanded","true"),this.optionList.focus()},ListBox.prototype.hide=function(){this.optionList.parentElement.classList.remove("open"),this.button.removeAttribute("aria-expanded")},ListBox.prototype.selectOption=function(t){t&&t!==this.selected&&(this.selected.removeAttribute("aria-selected"),(this.selected=t).setAttribute("aria-selected","true"),this.optionList.setAttribute("aria-activedescendant",t.getAttribute("id")),this.selectedIdentifier&&(this.selectedIdentifier.textContent=t.textContent))},ListBox.prototype.handleKeys=function(t){switch(t.key){case"ArrowUp":case"ArrowDown":t.preventDefault(),"ArrowUp"===t.key?this.selectOption(this.selected.previousElementSibling):this.selectOption(this.selected.nextElementSibling);break;case"Home":case"End":t.preventDefault(),"Home"===t.key?this.selectOption(this.optionList.firstElementChild):this.selectOption(this.optionList.lastElementChild);break;case"Space":t.preventDefault(),this.selectOption(this.selected);break;case"Enter":case"Esc":case"Escape":t.preventDefault(),this.hide(),this.button.focus()}},ListBox.prototype.handleClick=function(t){t=t.target;"option"===t.getAttribute("role")&&this.selectOption(t)},ListBox.prototype.handleFocus=function(){this.selected?this.selectOption(this.selected):this.selectOption(this.optionList.firstElementChild)},function(){function o(t){a.getKeyCode(t)===a.KeyCodes.Space&&(t.preventDefault(),t.currentTarget.click())}function e(t){this.tabContainer=t,this.tabs=this.tabContainer.querySelectorAll("li"),this.tabLinks=[]}e.prototype.init=function(){var i=this;i.tabContainer.setAttribute("role","tablist"),Array.prototype.forEach.call(i.tabs,function(t){t.setAttribute("role","presentation"),i.tabLinks.push(t.querySelector("a"))}),Array.prototype.forEach.call(i.tabLinks,function(t){t.addEventListener("keydown",i.linkKeyDownHandler.bind(i)),t.addEventListener("keyup",i.linkKeyUpHandler.bind(i)),t.removeAttribute("aria-expanded"),t.setAttribute("role","tab");var e,a,n=t.getAttribute("href").match(/#([^&]+)/)||[];n[0]&&(e=document.getElementById(n[1]))&&(a="id"+(new Date).getTime().toString().slice(8)+Math.random().toString().slice(2),t.setAttribute("id",a),t.setAttribute("aria-controls",n[1]),e.setAttribute("aria-labelledby",a),e.setAttribute("role","tabpanel")),t.setAttribute("aria-selected",t.parentNode.classList.contains("active")),t.setAttribute("tabindex",t.parentNode.classList.contains("active")?"0":"-1")}),$(i.tabContainer).on("shown.bs.tab",function(){Array.prototype.forEach.call(i.tabLinks,function(t){t.setAttribute("aria-selected",t.parentNode.classList.contains("active")),t.setAttribute("tabindex",t.parentNode.classList.contains("active")?"0":"-1"),t.removeAttribute("aria-expanded")})})},e.prototype.linkKeyDownHandler=function(t){switch(a.getKeyCode(t)){case a.KeyCodes.End:t.preventDefault(),this.tabLinks[this.tabLinks.length-1].focus();break;case a.KeyCodes.Home:t.preventDefault(),this.tabLinks[0].focus();break;case a.KeyCodes.ArrowUp:case a.KeyCodes.ArrowDown:case a.KeyCodes.Space:t.preventDefault()}},e.prototype.linkKeyUpHandler=function(t){var e;switch(a.getKeyCode(t)){case a.KeyCodes.ArrowLeft:t.preventDefault(),(e=this.tabLinks[this.tabLinks.indexOf(t.currentTarget)-1])&&e.focus(),e||this.tabLinks[0].focus();break;case a.KeyCodes.ArrowRight:t.preventDefault(),(e=this.tabLinks[this.tabLinks.indexOf(t.currentTarget)+1])&&e.focus(),e||this.tabLinks[this.tabLinks.length-1].focus();break;case a.KeyCodes.Enter:case a.KeyCodes.Space:t.preventDefault(),$(t.currentTarget).tab("show")}};var a={KeyCodes:{Enter:13,Escape:27,Space:32,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40},getKeyCode:function(t){return t.code&&this.KeyCodes[t.code]||t.which||t.keyCode},_registerEvents:function(){var a=$(window),t=$("#tucal-top"),c=$("#tucal-press"),e=(c.on("click",'[data-tucal="morearticles"]',function(t){t.preventDefault(),c.find('[data-tucal="morearticles"]').css("pointer-events","none");var n=$("#tucal-pressarticles"),i=$("#tucal-press").find(".tucal-pressarticlecanvas").length,o=1===n.find('[data-pressarticle="end"]').length,t=n.data("news")?"&news="+$("#tucal-pressarticles[data-news]").data("news"):"",e=$("html").attr("lang"),a=$("head meta[charset]").attr("charset"),l=$("body").hasClass("start")?"&start=1":"",s=window.location.pathname.match("^/tu/pressestelle/aktuell/([0-9]+)(/[a-z]+)?$"),s=s?"&ignore="+s[1]:"",r=n.children("div:eq(1)");$.get("/tucal4/ajax/?pressarticles="+i+"&charset="+a+"&language="+e+t+l+s,function(t){r.height(r[0].scrollHeight).css("overflow","hidden"),$(t).hide().appendTo(n.find("ul"));var e=$(t).find("img"),a=0;$(t).find("img").on("load",function(){++a===e.length&&(n.find("li").show(),r.animate({height:r[0].scrollHeight},400,function(){r.height("").css("overflow",""),n.find("li:eq(-4) a").trigger("focus")}),c.find('[data-tucal="morearticles"]').css("pointer-events",""))}),(o||12<=i)&&$("#tucal-press").find('[data-tucal="morearticles"]').addClass("hidden").siblings().removeClass("hidden")})}),c.on("keydown",'[data-tucal="morearticles"]',o),$("#tucal-headnavigation").children("ol").on("click","li",function(t){var e=$(t.currentTarget);"0px"===$(".container").css("padding-left")&&$("#tucal-headnavigation").one("shown.bs.dropdown",function(){e.offset().top-a.scrollTop()<0&&$("body, html").scrollTop(e.prev().offset().top+e.prev().height())})}),$("#tucal-edgetoggle").on("click","a[data-toggle]",function(t){t.preventDefault()}),$("#tucal-headbutton").on("click",function(){$("#tucal-headbutton").attr("aria-expanded",function(t,e){return"false"===e?"true":"false"})}),t.on("click",function(t){t.preventDefault(),$("body, html").animate({scrollTop:0},500)}),$(document)),n=$("#tucal-content"),i=!1;a.on("scroll",function(){n.length&&!i&&(setTimeout(function(){requestAnimationFrame(function(){e.height()>a.height()&&e.scrollTop()>n.offset().top?"hide"===t.data("vis")&&(t.data("vis","show"),t.css("margin-right","0")):"show"===t.data("vis")&&(t.data("vis","hide"),t.css("margin-right",""))}),i=!1},16),i=!0)})},_accessibleMethods:function(){Array.prototype.forEach.call(document.getElementsByClassName("nav-tabs"),function(t){new e(t).init()});var t=$(".pagination"),t=(t.find("a").each(function(t,e){var e=$(e),a=e.find("span");a.hasClass("tucicon-nav-left")&&(e.attr("aria-label","vorherige"),a.attr("aria-hidden","true")),a.hasClass("tucicon-nav-right")&&(e.attr("aria-label","nächste"),a.attr("aria-hidden","true"))}),t.find("li.active a").attr("aria-current","page").append('<span class="sr-only">Aktuelle Seite</span>'),t.find("li:not(.active) a").removeAttr("aria-current"),t.not('[data-short="false"]').each(function(t,e){var a,n,i,o=$(e).find("li"),e=o.length;15<e&&(n=o.filter(".active").index(),a=o.slice(0,3),e=o.slice(e-3,e),n=o.slice(0<=n-3?n-3:0,n+4),i=0,o.not(a.add(n).add(e).addClass("allow")).each(function(t,e){var a=$(e),e=o.index(e);if(i+1===e)return a.remove(),i=e,!0;a.html("<a>...</a>"),i=e}))}),$('[data-toggle="collapse"]'));t.on("keydown",o),t.each(function(t,e){var n=e;(n.dataset.target&&n.dataset.target.split(",")||[n.getAttribute("href")]).filter(function(t){return 1<t.trim().length&&"#"===t.trim().slice(0,1)}).forEach(function(t){var e;t=t.trim().slice(1);try{e=document.getElementById(t)}catch(t){return void console.error(t)}if(e){var a=n.getAttribute("aria-controls");if(n.setAttribute("aria-controls",a?a+" "+t:t),e.classList.contains("in")||e.offsetWidth||e.offsetHeight||e.getClientRects().length)return n.setAttribute("aria-expanded","true"),!0;n.setAttribute("aria-expanded","false")}})}),$(document).on("shown.bs.collapse hidden.bs.collapse",".collapse",function(t){$(t.target).data("bs.collapse").$element.attr("aria-expanded",null)}),$(".toc, .pagination, .nav-tabs").each(function(t,e){e=$(e);0===e.parent("nav").length&&e.wrap($("<nav>").attr("aria-label","Inhalte der Seite"))}),$(".list-group-item.active").attr("aria-selected",!0).siblings(":not(.active)").attr("aria-selected",!1),$("alert").attr("role","alert"),$(".tucbox-collapse-heading").find("a").attr("role","button"),$(".tucbox-tip, .tucbox-tip-info").attr("role","note"),$(".tucbox-tip-warning, .tucbox-tip-danger").attr("role","alert"),$(".tucbox-area, .tucbox-area-info").attr("role","note")},_bootstrapModifications:function(){$(window).on("popstate",function(){var t=location.hash||$("a[data-toggle=tab]").first().attr("href")||null;null!==t&&$('a[href="'+id_safe(t)+'"]').tab("show")}),$(function(){$(".link, .linkextern").each(function(t,e){var e=$(e),a=e.attr("title"),a=(e.hasClass("linkextern")?"extern":"intern")+(a?": "+a:"");e.attr("title",a)}),jumpHash(),$(document.body).on("click","a[data-toggle=tab]",function(t){history.pushState({},"",t.currentTarget.getAttribute("href"))}),$(".dropdown-menu").on("keydown",function(t){var e=a.getKeyCode(t);e!==a.KeyCodes.Home&&e!==a.KeyCodes.End||(t.preventDefault(),$(t.currentTarget).children()[e===a.KeyCodes.Home?"first":"last"]().find("a")[0].focus())});var t=$("#tucal-headnavigation");t.on("show.bs.dropdown",".dropdown",function(t){$(t.currentTarget).parent().addClass("clicked")}),t.on("hide.bs.dropdown",".dropdown",function(t){$(t.currentTarget).parent().removeClass("clicked")}),$("a[data-lang]").on("click",function(t){2===t.currentTarget.getAttribute("data-lang").length&&(document.cookie="tuc_lang_c="+t.currentTarget.getAttribute("data-lang")+";path=/;secure")})})},_setupSearchListbox:function(){new ListBox(document.getElementById("tucal-search-option"),document.getElementById("tucal-searchtype"))},init:function(){this._registerEvents(),this._accessibleMethods(),this._bootstrapModifications(),this._setupSearchListbox(),$(function(){$("body").hasClass("start")&&$(".tucal-teasercontrol").show()})}};a.init()}(),
/**
 * @preserve
 * swipe-events.js, modified swiped-events.js - v1.0.9
 * Pure JavaScript swipe events
 * https://github.com/john-doherty/swiped-events
 * @inspiration https://stackoverflow.com/questions/16348031/disable-scrolling-when-touch-moving-certain-element
 * @author John Doherty <www.johndoherty.info>
 * @license MIT
 */
function(t,n){"function"!=typeof t.CustomEvent&&(t.CustomEvent=function(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var a=n.createEvent("CustomEvent");return a.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),a},t.CustomEvent.prototype=t.Event.prototype),n.addEventListener("touchstart",function(t){r=t.target,s=Date.now(),a=t.touches[0].clientX,i=t.touches[0].clientY,l=o=0},!1),n.addEventListener("touchmove",function(t){var e;a&&i&&(e=t.touches[0].clientX,t=t.touches[0].clientY,o=a-e,l=i-t)},!1),n.addEventListener("touchend",function(t){var e;r===t.target&&(t=Date.now()-s,(e="")!==(e=Math.abs(o)>Math.abs(l)&&20<Math.abs(o)&&t<500?0<o?"swipeleft":"swiperight":e)&&r.dispatchEvent(new CustomEvent(e,{bubbles:!0,cancelable:!0})),s=i=a=null)},!1);var a=null,i=null,o=null,l=null,s=null,r=null}(window,document);
/**
 * @preserve
 * hs.js
 * Modal functionalities
 * @author TUCAL Authors <www.tu-chemnitz.de/urz/www>
 */
var KEYS={LEFT:{which:39,code:"ArrowLeft"},RIGHT:{which:37,code:"ArrowRight"}},HsFramework={uniqId:function(){return"id"+(new Date).getTime().toString().slice(8)+Math.random().toString().slice(2)},isInteger:Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},checkKey:function(t,e){t=t.code||t.which||t.keyCode;return t===e.code||t===e.which},origin:function(t){t=$("<a>").attr("href",t),t=t[0].protocol+t[0].host;return window.location.protocol+window.location.host===t||""===t},handleArrows:function(t,e){HsFramework.checkKey(e,KEYS.LEFT)&&t.prev()||HsFramework.checkKey(e,KEYS.RIGHT)&&t.next()},fsHandler:function(){function t(){window.location.hash="fs",$(window).on("hashchange.fshandler",function(){"#fs"!==location.hash&&(HsFramework.closeFullscreen(),$(window).off(".fshandler"))})}var e=document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement,e=e?$(e):null,a=e||$(".gallery-fullscreen"),n=e&&e.parent(".tucal-gallery"),i=a.find(".tucal-fs-toggle"),o=a.find(".tucal-link-toggle"),l=a.find(".tucal-gallery-footer"),s=a.find(".tucal-gallery-desc"),r=a.find(".tucal-gallery-content img"),c=a.find(".tucal-gallery-control");if(e&&n.length)return 0!==$(".hs-content").length&&$("#hs-modal").data("bs.modal").isShown||t(),e.addClass("gallery-fullscreen"),i.removeClass("glyphicon-resize-full").addClass("glyphicon-resize-small"),o.hide(),l.addClass("footer-fullscreen"),s.css("padding","14px"),r.css("position","absolute"),void c.css("position","absolute");!e&&a.length&&(a.removeClass("gallery-fullscreen"),i.removeClass("glyphicon-resize-small").addClass("glyphicon-resize-full"),o.show(),l.removeClass("footer-fullscreen"),s.css("padding",""),r.css("position",""),c.css("position","relative")),$(document).off(".fshandler")},closeFullscreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},historyState:function(t){t=t?"#"+t:"",history.pushState("",document.title,window.location.pathname+window.location.search+t)}};function HsGallery(s){function a(){function t(t,e,a,n){t=(a=a||t)?t:"",n=n.split(" ").map(function(t){return t+"."+i}).join(" "),a.on(n,t,e)}t("[data-gallery]",function(t){t.preventDefault(),"next"===$(t.currentTarget).data("gallery")?c.next():c.prev()},s,"click"),t("li",function(t){return c.jumpTo($(t.currentTarget).index()),!1},f,"click"),t("[data-thumb]",function(t){t.preventDefault();t="left"===$(t.currentTarget).data("thumb")?-1:1;f.animate({scrollLeft:f.scrollLeft()+.8*t*f.width()},800)},s,"click"),t(".tucal-gallery-content",function(){c.next()},s,"swipeleft"),t(".tucal-gallery-content",function(){c.prev()},s,"swiperight"),t(".tucal-play-toggle",function(){b.hasClass("glyphicon-play")?(f.find(".active").next().length||c.jumpTo(0),c.pause(),b.removeClass("glyphicon-play").addClass("glyphicon-pause"),c.play()):b.hasClass("glyphicon-pause")&&c.pause()},s,"click"),t($(window),function(){y()},"","resize"),t(f,function(){y()},"","scroll"),t(".tucal-fs-toggle",function(){if($(l).find(".tucal-fs-toggle").hasClass("glyphicon-resize-small"))return 0!==$(".hs-content").length&&$("#hs-modal").data("bs.modal").isShown||"#fs"!==location.hash&&"#popup"!==location.hash||history.back(),void HsFramework.closeFullscreen();l.requestFullscreen?l.requestFullscreen():l.webkitRequestFullscreen?l.webkitRequestFullscreen():l.mozRequestFullScreen?l.mozRequestFullScreen():l.msRequestFullscreen&&l.msRequestFullscreen(),m.hide()},s,"click"),t(".tucal-link-toggle",function(){m.toggle()},s,"click")}function r(){var t=f.width(),e=f.find("li.active").width(),a=f.find("li.active").position().left,n=f.scrollLeft()+(a-(t-e/2)/2);(t<a+e||a<0)&&f.animate({scrollLeft:n},200)}var c=this,d=s.data("gid"),i="hsgallery"+d,e=null,n=s.data("interval")||3e3,u=0,h=s.find(".tucal-gallery-body"),o=s.find(".tucal-gallery-header"),t=s.find(".tucal-gallery-footer"),l=s.find(".tucal-fs-e")[0],f=s.find(".tucal-thumbs"),p=f.find("li"),g=p.find("img"),m=t.find(".tucal-link-input"),v=m.find("input"),b=s.find(".tucal-play-toggle"),y=function(){var t=o.find(".tucal-right"),e=o.find(".tucal-left");1<f.scrollLeft()?e.show():e.hide(),1<f[0].scrollWidth-f.width()-f.scrollLeft()?t.show():t.hide()};c.init=function(){var t=document.createElement("img"),e=(t.classList.add("img-responsive"),h.find(".tucal-gallery-content").prepend(t),f.find(".active").length||c.jumpTo(0),a(),0);return g.one("load",function(){++e>=g.length&&y()}),c},c.destroy=function(){var t;c.pause(),t="."+i,s.off(t),f.off(t),$(window).off(t),c=null},c.singlePic=function(){return o.hide(),s.find(".tucal-gallery-content .tucal-icon").hide(),b.remove(),s.find(".tucal-aspectratiobox").add(".hs-content .modal-body .tucal-aspectratioboxcontent").add(".hs-content .modal-body .tucal-aspectratioboxcontent img").addClass("tucal-noaspect"),s.find(".tucal-gallery-desc").css("padding-bottom","14px"),c},c.checkThumbnailBar=function(){y(),r()},c.play=function(){!function t(){e=setTimeout(function(){b.hasClass("glyphicon-pause")&&(c.next(),h.one("picloaded",function(){t()}))},n)}()},c.pause=function(){h.off("picloaded"),clearTimeout(e),b.removeClass("glyphicon-pause").addClass("glyphicon-play")},c.jumpTo=function(t){var e,a,n,i,o,l=p.length-1;t=l<t?l:Math.max(0,t),f.find(".active").removeClass("active"),p.eq(t).addClass("active").attr("aria-expanded",!0).siblings().attr("aria-expanded",!1),r(),e=f.find(".active"),a=e.find("img").data("src")||e.find("a").attr("href"),n=e.find("figcaption").text()||e.find("a").data("desc")||e.find("img").attr("title")||"",i=e.find("img").attr("alt")||"",o=HsFramework.uniqId(),s.find(".load").addClass("ing"),s.find(".tucal-gallery-content img").one("load",function(){s.find(".load").removeClass("ing"),s.find(".tucal-gallery-desc").text(n).attr("id",o),h.trigger("picloaded");var t=e.next().find("a[href]").attr("href");t&&($("<img/>")[0].src=t)}).attr("src",a).attr("alt",i).attr("aria-describedby",o),(u=t)===l?(h.find(".tucal-right").hide(),c.pause()):h.find(".tucal-right").show(),0===u?h.find(".tucal-left").hide():h.find(".tucal-left").show(),v.val(window.location.origin+window.location.pathname+window.location.search+"#&gid"+d+"&pic"+(u+1))},c.next=function(){c.jumpTo(u+1)},c.prev=function(){c.jumpTo(u-1)}}function HsModal(a){function e(t){b[t].concat(y[t]||[]).forEach(function(t){t.call(o)})}var n,i,o=this,l=!0,s=$("#hs-modal"),r=s.find(".modal-body"),c=s.find(".modal-content"),d=s.find(".modal-dialog"),u=s.find(".modal-error"),h=s.find(".modal-footer"),f=s.find(".modal-header"),t=$(".hs-content").siblings(":not(script)"),p=a.data("height"),g=a.data("width"),m=a.data("vertical"),v=a.data("class"),b={show:[function(){v&&d.addClass(v),p&&r.css("height",p),g&&d.css("max-width",g),m&&c.css("vertical-align",m||""),(m||p)&&c.css("height","auto");var t=a.siblings(".modal-footer").html();if(t&&!a.data("ext")&&h.append(t).show(),a.data("title"))return i=f.append('<h1 class="modal-title" id="tucal-modal-title">'+a.data("title")+"</h1>").children("h1"),void s.attr("aria-labelledby","tucal-modal-title");s.attr("aria-label","Modal")},function(){HsFramework.historyState("popup"),$(window).on("hashchange.hsmodal",function(){"#popup"!==location.hash&&"#fs"!==location.hash&&((document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)&&HsFramework.closeFullscreen(),s.modal("hide"))})}],shown:[function(){t.attr("aria-hidden",!0)}],hidden:[function(){v&&d.removeClass(v),s.removeAttr("aria-labelledby aria-label"),r.css("height",""),d.css("max-width",""),c.css("vertical-align","").css("height",""),r.children().not(".modal-error").remove(),h.empty().hide(),i&&i.remove(),u.show()},function(){$(window).off(".hsmodal")},function(){t.attr("aria-hidden",""),a.trigger("focus")}]},y={},w={remoteFrame:function(){var e=document.createElement("iframe");e.setAttribute("width","100%"),e.setAttribute("frameborder","0"),(!p||$(document).width()<500)&&(e.onload=function(){var t;if(e.contentDocument)return t=$(e.contentDocument.documentElement),void e.contentWindow.requestAnimationFrame(function(){r.height(t.css("overflow","hidden").height()),t.css("overflow","")});c.css("height","100%"),r.css("height","calc(100% - 55px)")}),e.setAttribute("src",a.data("remote-frame")),o.registerHook("shown",function(){r.append(e)}),s.addClass("hs-url"),o.registerHook("hidden",function(){s.removeClass("hs-url")})},html:function(){r.append('<div class="hs-html">'+a.siblings(".modal-body").html()+"</div>");var t=s.find(".tucal-gallery");if(t.length){if(o.gallery=new HsGallery(t).init(),t.data("hsgallery",o.gallery),o.registerHook("hidden",function(){o.gallery.destroy(),delete o.gallery,$(document).off(".hsmodal")}),1===s.find(".tucal-thumbs").children().children("li").length)return o.gallery.singlePic(),void s.find(".hs-html").css("padding-top","0");o.registerHook("shown",function(){o.gallery.checkThumbnailBar()}),$(document).on("keyup.hsmodal",function(t){HsFramework.handleArrows(o.gallery,t)})}},image:function(){r.append('<img src="'+a.attr("href")+'" class="img-responsive hs-img" alt="">')}};o.registerHook=function(t,e){l&&(y[t]||(y[t]=[])).push(e)},o.show=function(){var t=["remoteFrame","image","html"].filter(function(t){return Object.keys(a[0].dataset).includes(t)})[0];return t===n&&(l=!1),t!==n&&(l=!0,n=t,y={}),w[t]&&(w[t].call(o),u.hide()),s.one("show.bs.modal",function(){e("show")}).one("shown.bs.modal",function(){e("shown")}).one("hidden.bs.modal",function(){e("hidden")}).modal("show"),o}}$.fn.extend({openModal:function(t){var e=(this.data("hsmodal")||new HsModal(this)).show();t&&HsFramework.isInteger(parseInt(t))&&e.registerHook("shown",function(){e.gallery.jumpTo(t)}),this.data("hsmodal",e)}}),$(function(){var t=$("body");function e(){var a,n,t=$("#hs-modal");(t.data("bs.modal")||{}).isShown?t.one("hidden.bs.modal",function(){e()}).modal("hide"):(a=/^#&gid(\d+)&pic(\d+)$/g.exec(window.location.hash))&&HsFramework.isInteger(parseInt(a[1]))&&HsFramework.isInteger(parseInt(a[2]))&&(window.location.hash="",HsFramework.historyState(""),(n=$(".tucal-gallery[data-gid='"+parseInt(a[1])+"']")).length&&(n.parent().hasClass("modal-body")&&(n=n.parent().parent(".hs-modal")),n.is(":visible")||(HsFramework.historyState(n.closest(".collapse, .tab-pane").attr("id")),jumpHash()),setTimeout(function(){var t,e;$(window).scrollTop($(n).offset().top),e=parseInt(a[2]),n.hasClass("hs-modal")?n.find('a[data-toggle="modal"][data-target="#hs-modal"]').openModal(e-1):(t=n.data("hsgallery"))&&t.jumpTo(e-1)},125)))}"#popup"!==window.location.hash&&"#fs"!==window.location.hash||HsFramework.historyState(""),$(".hs-content").length||t.append('<div class="hs-content">            <div class="modal fade" id="hs-modal" tabindex="-1" role="dialog" aria-modal="true">                <div class="modal-dialog">                    <span class="valign"></span><div class="modal-content">                        <header class="modal-header">                            <button type="button" class="close" data-dismiss="modal" aria-label="Schließen">&times;</button>                        </header>                        <div class="modal-body">                            <div class="modal-error" aria-hidden="true">Fehler</div>                        </div>                        <div class="modal-footer"></div>                    </div>                </div>            </div>        </div>'),$(".hs-modal").children("a[data-image]").find("img").one("load",function(t){var e=t.currentTarget.width,a=t.currentTarget.height,t=$(t.currentTarget).closest("a");t.attr("aria-label","Bild vergrößern"),80<=e&&40<=a&&t.append('<div class="hs-label hidden-print" aria-hidden="true"><span class="glyphicon tucicon-search"></span></div>')}).each(function(t,e){e.complete&&$(e).trigger("load")}),$(".hs-modal.video-modal").children("a[data-toggle]").append('<div class="hs-label hidden-print" aria-hidden="true"><span class="glyphicon glyphicon-play"></span></div>'),t.on("click","#hs-modal .modal-dialog",function(t){t.target===t.currentTarget&&$("#hs-modal").modal("hide")}),t.on("click",'a[data-toggle="modal"][data-target="#hs-modal"]',function(t){return $(t.currentTarget).parents("#hs-modal").length||$(t.currentTarget).openModal(),!1}),t.on("click","a[data-gdesc-open]",function(t){return $(t.currentTarget).parent().siblings("a[data-toggle]").openModal(),!1}),t.on("hide.bs.modal","div.modal",function(){"#popup"===location.hash&&history.back()}),t.on("click",'#hs-modal .modal-body a[data-toggle="modal"][data-target="#hs-modal"]',function(t){return $("#hs-modal").one("hidden.bs.modal",function(){$(t.currentTarget).openModal()}).modal("hide"),!1}),$("ul[data-gallery]").each(function(t,e){t++;var a,n,i,o,l,s,r,e=$(e),c=e.parent(".modal-body"),d=e.data("gallery"),u=e.attr("class")?" "+e.attr("class"):"",h=e.attr("style")?' style="'+e.attr("style")+'"':"",f=e.data("interval")?' data-interval="'+e.data("interval")+'"':"",p="",g="",m=HsFramework.uniqId(),m='           </ul>       </div>   </div>   <a href="#" aria-label="Vorschaubildleiste nach links bewegen" class="tucal-icon tucal-left" data-thumb="left"><span class="valign"></span><span class="glyphicon tucicon-nav-left"></span></a>   <a href="#" aria-label="Vorschaubildleiste nach rechts bewegen" class="tucal-icon tucal-right" data-thumb="right"><span class="valign"></span><span class="glyphicon tucicon-nav-right"></span></a></div><figure class="tucal-gallery-body tucal-fs-e">   <div class="tucal-aspectratiobox">       <div class="tucal-gallery-content tucal-aspectratioboxcontent noselect">           <div class="load">               <span class="valign"></span><div>                   <div aria-hidden="true">Lädt...</div>               </div>           </div>           <span class="tucal-icon tucal-left" data-gallery="prev"><span class="valign"></span><a href="#" role="button" aria-label="vorheriges Bild" class="btn glyphicon tucicon-nav-left"></a></span>           <span class="tucal-icon tucal-right" data-gallery="next"><span class="valign"></span><a href="#" role="button" aria-label="nächstes Bild" class="btn glyphicon tucicon-nav-right"></a></span>       </div>   </div>   <figcaption class="tucal-gallery-footer">       <div class="tucal-link-input" style="display: none;">           <label for="'+m+'" class="col-md-3 control-label" style="margin: 0">Link zur Galerie:</label>           <div class="col-md-9" style="padding: 0">               <input id="'+m+'" onClick="this.select();" class="form-control" type="text" readonly>           </div>       </div>       <div class="tucal-gallery-control noselect">           <div class="tucal-fs-toggle glyphicon glyphicon-resize-full"></div>           <div class="tucal-play-toggle glyphicon glyphicon-play"></div>           <div class="tucal-link-toggle glyphicon glyphicon-link"></div>       </div>       <div>           <div class="tucal-gallery-desc"></div>       </div>   </figcaption></figure>';"popup"===d&&(a=HsFramework.uniqId(),r=(n=(r=e.find("li:first-child")).find("img").attr("src")).match(/-t\.jpg$/)?r.find("a").attr("href"):n,n=e.find("li:first-child a").data("desc")||e.find("li:first-child figcaption").text()||"",i=(n=e.data("gdesc")?n+' &ndash; <a href="#" data-gdesc-open aria-hidden="true" tabindex="-1">'+e.data("gdesc")+"</a>":n)?'aria-labelledby="'+a+'"':"",o=1<e.find("li").length?'   <span class="glyphicon glyphicon-folder-open"></span>\n':"",l=1<e.find("li").length?"Galerie öffnen":"Bild vergrößern",s=e.data("title")?" data-title='"+e.data("title")+"' ":"",p='<figure class="hs-modal popup'+u+'"'+h+'>   <a href="'+window.location.origin+window.location.pathname+window.location.search+"#&gid"+t+'&pic1" role="button" data-toggle="modal" data-target="#hs-modal" data-html '+s+">"+('<img class="img-responsive" src="'+r+'" alt="" '+i+'><div class="hs-label hidden-print" aria-hidden="true">   <span class="glyphicon tucicon-search"></span>'+o+"</div>")+'       <span class="sr-only">'+l+'</span>   </a>   <figcaption class="show" id="'+a+'" aria-hidden="true">'+n+'</figcaption><div class="modal-body">',g="</div></figure>",h=u=""),e.find("li figcaption").addClass("sr-only"),e.replaceWith(p+'<div class="tucal-gallery'+u+'"'+h+f+' data-gid="'+t+'"><div class="tucal-gallery-header noselect">   <div class="tucal-thumbs-body">       <div class="tucal-thumbs">           <ul>'+e.html()+m+"</div>"+g),"popup"===d||c.length||(r=new HsGallery(s=$('[data-gid="'+t+'"]')).init(),s.data("hsgallery",r))}),$(document).on("fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange",HsFramework.fsHandler),$(window).on("hashchange",e),e()});